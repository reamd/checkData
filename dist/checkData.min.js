"use strict";function _classCallCheck(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function e(e,r){for(var o=0;o<r.length;o++){var t=r[o];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(e,t.key,t)}}return function(r,o,t){return o&&e(r.prototype,o),t&&e(r,t),r}}(),_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(e,r){"function"==typeof define&&define.amd?define([],r):"object"===("undefined"==typeof exports?"undefined":_typeof(exports))?module.exports=r():e.checkData=r()}("undefined"!=typeof window?window:void 0,function(){return new(function(){function e(){_classCallCheck(this,e),this.rules={}}return _createClass(e,[{key:"_iterateCore",value:function(e,r){var o=Object.keys(e),t={},n=this,i=!1,u=[];if(Object.is(r,null)||Object.is(r,{}))return t;if(o.forEach(function(o){if(!i){var a=e[o],s=r[o],f="object"===(void 0===a?"undefined":_typeof(a))?"object":a,c=void 0===s?"undefined":_typeof(s);"object"===f?("object"===c?(u.push(o),t=n._iterateCore(a,s)):(t.errorKey=o,t.errorType=c,i=!0),t.hasError?i=!0:u.pop()):f!==c&&(t.errorKey=o,t.errorType=c,i=!0)}}),!Object.is(t,{})&&t.hasError){var a=t.errorKey;t.errorKey=u.join(".")+"."+a}return t.hasError=i,t}},{key:"init",value:function(e){this.rules=e}},{key:"add",value:function(e){Object.assign(this.rules,e)}},{key:"test",value:function(e,r){var o=e;return void 0===(e=this.rules[e])?(console.warn("(Warning): method of [test] apply "+o+" rule not found!"),!1):this._iterateCore(e,r).hasError}},{key:"use",value:function(e,r){var o=e;if(void 0===(e=this.rules[e]))return console.warn("(Warning): method of [use] apply "+o+" rule not found!"),[!1,"",""];var t=this._iterateCore(e,r),n=void 0,i=void 0;return t.errorKey?(n=t.errorKey,i="(type error): type of ["+n+"] should not be a "+t.errorType+"!"):(n="",i=""),[t.hasError,n,i]}},{key:"clear",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";""===e?this.rules={}:delete this.rules[e]}}]),e}())});